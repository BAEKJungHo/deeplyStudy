# IP, TCP, UDP, DNS 에 대해서 설명해주세요.

- [How Does The Web Work](https://webdevtechblog.com/%EC%9B%B9%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8F%99%EC%9E%91%ED%95%A0%EA%B9%8C-how-does-the-web-work-90c2286c9f4)

## IP(Internet Protocol)와 DNS(Domain Name System)

`IP(Internet Protocol)` 는 인터넷 프로토콜(규약)이라는 약자로서, __네트워크에 연결된 장치들(Ex. 서버, 라우터 등 모든 기계)이 서로 통신하기 위한 고유 주소를 의미__ 하며 `패킷(Packet)` 이라는 통신 단위로 데이터를 전달 합니다. IP 는 인터넷 규약 자체를 가리키는 말이기 때문에 엄밀하게는 구별해야 합니다.

`IP 주소(Internet Protocol Address)`는 인터넷에서만 사용되는 전화번호라고 생각할 수 있습니다. 특정 사이트를 접속하기 위해서 IP 주소를 전부 입력하라고하면 매우 불편하고 힘들기 때문에 이러한 전화번호를 관리하기 위해 등장한 것이 `DNS(Domain Name System)` 즉, 인터넷 전화번호부가 등장했습니다. DNS 는 도메인 이름을 IP 주소로 변환합니다.
 
따라서 구글에 접속하기 위해 google.com 을 입력하면 DNS 를 통해 구글의 IP 주소를 찾아 이동하게 되는 것입니다. 좀 더 디테일 하게 설명하자면 전화번호부 안에서도 또 다른 전화번호부를 가지고 있습니다. goole.com 을 치면 가장 상위 전화번호부로 이동한 다음, 해당 전화번호부에서 goole.com 을 아는 하위 전화번호부를 알려주게 됩니다. 이러한 하위 전화번호부를 `registry` 라고 합니다. registry 는 사기업들에 의해서 운영됩니다. `.com` registry 의 경우 미국의 Verisign 이라는 기업이 운영하고 있습니다.

- IP 주소 : 인터넷에서 사용되는 전화번호
- DNS : 전화번호부
  - 전화번호부에는 웹사이트 주소 = IP 주소가 적혀있다.
  - 전화번호부는 계층형 형태로 존재하며, 하위 전화번호부를 registry 라고 한다.
  - registry 는 사기업들에 의해서 운영되며 .com registry 의 경우 미국의 Verisign 이라는 기업이 운영하고 있다.

### IPv4, IPv6

일반적인 IP 주소라고 하면 IPv4 를 의미합니다. IPv4 는 `32비트` 방식으로 8비트씩 4자리로 되어있으며 온점으로 구분합니다. (Ex.192.168.0.1) IPv4 는 `2^32` 만큼의 주소를 가질 수 있는데, 인터넷 사용자 수가 급증함에 따라 IPv4 주소 고갈 문제를 해결하고자 IPv6 가 나왔습니다. IPv6 는 `128비트` 방식으로 16비트씩 8자리로 되어있으며 각 자리는 콜론으로 구분합니다. (Ex. 2001:0DB8:1000:0000:0000:0000:1111:2222)

> IPv4 : `IP Version 4`, IPv6 : `IP Version 6`

### IP 의 한계

- `비연결성`
  - 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
- `비신뢰성`
  - 중간에 패킷이 사라지면?
  - 패킷이 순서대로 안오면?
- `프로그램 구분`
  - 같은 IP 를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이라면?

## TCP

IP 의 한계점을 해결하기 위해 나타난 것이 TCP, UDP 입니다. TCP 가 UDP 에 비해 복잡하지만 신뢰성이 좋아 대부분 TCP 를 사용합니다.

- TCP 특징
  - 전송 제어 프로토콜(Transmission Control Protocol)
  - `연결지향 - TCP 3 way handshake (가상연결)`
  - `데이터 전달 보증`
  - `순서 보장`
  - 신뢰할 수 있는 프로토콜
  - 현재는 대부분 TCP 사용

TCP 특징 중 가장 중요한 세 가지를 뽑으면

- 연결지향
- 데이터 전달 보증
  - 클라이언트가 서버로 데이터 전송하면 서버는 데이터 잘 받았다고 클라이언트에게 말한다.
- 순서 보장
  - 패킷 1,2,3 순서로 보내면 도착도 1,2,3 순서로 도착한다.
  - 순서 보장이 가능한 이유는 TCP 정보에는 `전송 제어, 순서, 검증 정보` 등이 추가가 되어있다.

일 것이다.

### [TCP 3 way handshake](https://github.com/BAEKJungHo/inflearn-http)

TCP 는 IP 가 처리할 수 있도록 __데이터를 여러 개의 패킷으로 나누고 도착지에서는 완전전한 데이터로 패킷들을 재조립__ 해야 한다.

- SYN : 접속 요청(패킷을 전송)
- ACK : 요청 수락(패킷을 받았다고 응답)

클라이언트가 서버로 `SYN(접속 요청)` 을 한다. 서버는 클라이언트에게 `접속 요청(SYN)과, 요청 수락(ACK)`을 하고 다시 클라이언트가 요청 수락(ACK)을 한다. 마지막 클라이언트가 ACK 을 할 때 데이터도 함께 전송 가능하다.

만약, 패킷을 보냈는데 패킷이 분실되어 데이터가 완벽하지 않으면, 수신지에서 ACK 을 보내 줄 때 까지 다시 데이터를 보낸다.

즉, 다음과 같은 단계를 거친다고 생각하면 된다.

1. SYN(Client -> Server)
2. SYN + ACK(Server -> Client)
3. ACK(Client -> Server)

## UDP

TCP 와는 다르게 데이터를 패킷으로 나누고 반대편에서 재조립하는 과정을 거치지 않으며 수신지에서 제대로 받던 받지 않던 상관안하고 데이터를 보내기만 한다.

- UDP 특징
  - 사용자 데이터그램 프로토콜(User Datagram Protocol)
  - 하얀 도화지에 비유(기능이 거의 없음)
  - 연결지향 - TCP 3 way handshake X
  - 비연결성
  - 비신뢰성
  - 데이터 전달 보증 X
  - 순서 보장 X
  - `데이터 전달 및 순서가 보장되지 않지만, 단순하고 빠름`
  - `IP와 거의 같다. +PORT +체크섬 정도만 추가`
  - 애플리케이션에서 추가 작업 필요

## PORT

포트는 같은 IP 내에서 프로세스를 구분하기 위한 것입니다.

- 192.168.10.1
  - Ex. 게임 : 8090
  - Ex. 화상통화 : 21000
  - Ex. 웹브라우저 : 10010
